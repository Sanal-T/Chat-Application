{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SANAL\\\\chat-app\\\\frontend\\\\src\\\\components\\\\chat.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport io from 'socket.io-client';\nimport './Chat.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Chat = ({\n  user,\n  onLogout\n}) => {\n  _s();\n  var _rooms$find, _rooms$find2, _rooms$find3;\n  const [socket, setSocket] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState('');\n  const [onlineUsers, setOnlineUsers] = useState([]);\n  const [typingUsers, setTypingUsers] = useState([]);\n  const [isTyping, setIsTyping] = useState(false);\n  const [selectedRoom, setSelectedRoom] = useState('general');\n  const [rooms] = useState([{\n    id: 'general',\n    name: 'General',\n    unread: 0,\n    lastMessage: 'Welcome to FlashTalk!'\n  }, {\n    id: 'tech',\n    name: 'Tech Talk',\n    unread: 3,\n    lastMessage: 'Anyone tried the new React 18?'\n  }, {\n    id: 'random',\n    name: 'Random',\n    unread: 0,\n    lastMessage: 'Good morning everyone!'\n  }]);\n  const [showUserProfile, setShowUserProfile] = useState(false);\n  const [showSettings, setShowSettings] = useState(false);\n  const messagesEndRef = useRef(null);\n  const typingTimeoutRef = useRef(null);\n  useEffect(() => {\n    const newSocket = io(process.env.REACT_APP_SERVER_URL || 'http://localhost:5000', {\n      transports: ['websocket', 'polling']\n    });\n    setSocket(newSocket);\n\n    // Join room\n    newSocket.emit('join_room', {\n      room: selectedRoom,\n      user\n    });\n\n    // Event listeners\n    newSocket.on('receive_message', message => {\n      if (message && message.user && message.text) {\n        setMessages(prev => [...prev, message]);\n      }\n    });\n    newSocket.on('users_online', users => {\n      if (Array.isArray(users)) {\n        setOnlineUsers(users);\n      }\n    });\n    newSocket.on('user_typing', ({\n      user: typingUser,\n      room\n    }) => {\n      if (room === selectedRoom && typingUser && typingUser.id !== user.id) {\n        setTypingUsers(prev => {\n          const filtered = prev.filter(u => u.id !== typingUser.id);\n          return [...filtered, typingUser];\n        });\n        setTimeout(() => {\n          setTypingUsers(prev => prev.filter(u => u.id !== typingUser.id));\n        }, 3000);\n      }\n    });\n    newSocket.on('connect_error', error => {\n      console.error('Socket connection error:', error);\n    });\n    return () => {\n      newSocket.disconnect();\n    };\n  }, [selectedRoom, user]);\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  const sendMessage = e => {\n    e.preventDefault();\n    if (newMessage.trim() && socket && socket.connected) {\n      const message = {\n        id: Date.now(),\n        text: newMessage.trim(),\n        user: user,\n        room: selectedRoom,\n        timestamp: new Date().toISOString()\n      };\n      socket.emit('send_message', message);\n      setNewMessage('');\n      setIsTyping(false);\n    }\n  };\n  const handleTyping = e => {\n    setNewMessage(e.target.value);\n    if (!isTyping && socket && socket.connected && e.target.value.trim()) {\n      setIsTyping(true);\n      socket.emit('user_typing', {\n        user,\n        room: selectedRoom\n      });\n    }\n    clearTimeout(typingTimeoutRef.current);\n    typingTimeoutRef.current = setTimeout(() => {\n      setIsTyping(false);\n    }, 1000);\n  };\n  const formatTime = timestamp => {\n    return new Date(timestamp).toLocaleTimeString([], {\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n  const getStatusColor = status => {\n    switch (status) {\n      case 'online':\n        return '#10B981';\n      case 'away':\n        return '#F59E0B';\n      case 'busy':\n        return '#EF4444';\n      default:\n        return '#6B7280';\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sidebar\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"user-profile-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-avatar-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"user-avatar\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: user.avatar || `https://ui-avatars.com/api/?name=${user.name}&background=667eea&color=fff`,\n              alt: user.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"status-indicator online\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"user-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: user.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"user-status\",\n              children: \"Online\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"action-btn\",\n            onClick: () => setShowUserProfile(!showUserProfile),\n            title: \"Profile\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              width: \"20\",\n              height: \"20\",\n              viewBox: \"0 0 24 24\",\n              fill: \"currentColor\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"action-btn\",\n            onClick: () => setShowSettings(!showSettings),\n            title: \"Settings\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              width: \"20\",\n              height: \"20\",\n              viewBox: \"0 0 24 24\",\n              fill: \"currentColor\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.82,11.69,4.82,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"action-btn logout-btn\",\n            onClick: onLogout,\n            title: \"Logout\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              width: \"20\",\n              height: \"20\",\n              viewBox: \"0 0 24 24\",\n              fill: \"currentColor\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.59L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rooms-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"section-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Channels\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"add-btn\",\n            title: \"Add Channel\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              width: \"16\",\n              height: \"16\",\n              viewBox: \"0 0 24 24\",\n              fill: \"currentColor\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rooms-list\",\n          children: rooms.map(room => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `room-item ${selectedRoom === room.id ? 'active' : ''}`,\n            onClick: () => setSelectedRoom(room.id),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"room-icon\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"#\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"room-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"room-name\",\n                children: room.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"room-last-message\",\n                children: room.lastMessage\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 17\n            }, this), room.unread > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"unread-badge\",\n              children: room.unread\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 19\n            }, this)]\n          }, room.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"online-users-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"section-header\",\n          children: /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: [\"Online (\", onlineUsers.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"users-list\",\n          children: onlineUsers.map(onlineUser => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"user-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"user-avatar-small\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: onlineUser.avatar || `https://ui-avatars.com/api/?name=${onlineUser.name}&background=random&size=32`,\n                alt: onlineUser.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"status-dot\",\n                style: {\n                  backgroundColor: getStatusColor(onlineUser.status)\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"user-name\",\n              children: onlineUser.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 17\n            }, this)]\n          }, onlineUser.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-chat\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"channel-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"channel-icon\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"#\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"channel-details\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: (_rooms$find = rooms.find(r => r.id === selectedRoom)) === null || _rooms$find === void 0 ? void 0 : _rooms$find.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"member-count\",\n              children: [onlineUsers.length, \" members\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"header-btn\",\n            title: \"Search\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              width: \"20\",\n              height: \"20\",\n              viewBox: \"0 0 24 24\",\n              fill: \"currentColor\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"header-btn\",\n            title: \"Call\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              width: \"20\",\n              height: \"20\",\n              viewBox: \"0 0 24 24\",\n              fill: \"currentColor\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M20.01 15.38c-1.23 0-2.42-.2-3.53-.56-.35-.12-.74-.03-1.01.24l-1.57 1.97c-2.83-1.35-5.48-3.9-6.89-6.83l1.95-1.66c.27-.28.35-.67.24-1.02-.37-1.11-.56-2.3-.56-3.53 0-.54-.45-.99-.99-.99H4.19C3.65 3 3 3.24 3 3.99 3 13.28 10.73 21 20.01 21c.71 0 .99-.63.99-1.18v-3.45c0-.54-.45-.99-.99-.99z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"header-btn\",\n            title: \"More\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              width: \"20\",\n              height: \"20\",\n              viewBox: \"0 0 24 24\",\n              fill: \"currentColor\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"messages-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"messages-area\",\n          children: [messages.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"welcome-message\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"welcome-icon\",\n              children: \"\\uD83D\\uDCAC\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: [\"Welcome to #\", ((_rooms$find2 = rooms.find(r => r.id === selectedRoom)) === null || _rooms$find2 === void 0 ? void 0 : _rooms$find2.name) || 'Chat', \"!\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"This is the beginning of your conversation in this channel.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 15\n          }, this) : messages.map((message, index) => {\n            if (!message || !message.user) return null;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"message\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"message-avatar\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: message.user.avatar || `https://ui-avatars.com/api/?name=${encodeURIComponent(message.user.name || 'User')}&background=random&size=40`,\n                  alt: message.user.name || 'User',\n                  onError: e => {\n                    e.target.src = `https://ui-avatars.com/api/?name=${encodeURIComponent(message.user.name || 'User')}&background=667eea&color=fff&size=40`;\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 278,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"message-content\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"message-header\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"message-author\",\n                    children: message.user.name || 'Anonymous'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 288,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"message-time\",\n                    children: formatTime(message.timestamp)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 289,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"message-text\",\n                  children: message.text\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 21\n              }, this)]\n            }, message.id || index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 19\n            }, this);\n          }), typingUsers.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"typing-indicator\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"typing-avatar\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"typing-dots\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 304,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 305,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"typing-text\",\n              children: [typingUsers.map(u => u.name).join(', '), \" \", typingUsers.length === 1 ? 'is' : 'are', \" typing...\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: messagesEndRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"message-input-container\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: sendMessage,\n          className: \"message-form\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-wrapper\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"attachment-btn\",\n              title: \"Attach File\",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                width: \"20\",\n                height: \"20\",\n                viewBox: \"0 0 24 24\",\n                fill: \"currentColor\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 323,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: newMessage,\n              onChange: handleTyping,\n              placeholder: `Message #${(_rooms$find3 = rooms.find(r => r.id === selectedRoom)) === null || _rooms$find3 === void 0 ? void 0 : _rooms$find3.name}`,\n              className: \"message-input\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"emoji-btn\",\n              title: \"Add Emoji\",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                width: \"20\",\n                height: \"20\",\n                viewBox: \"0 0 24 24\",\n                fill: \"currentColor\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 335,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"send-btn\",\n              disabled: !newMessage.trim(),\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                width: \"20\",\n                height: \"20\",\n                viewBox: \"0 0 24 24\",\n                fill: \"currentColor\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 340,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 339,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 124,\n    columnNumber: 5\n  }, this);\n};\n_s(Chat, \"ZpTMklyp4ah14VEhbendl7affno=\");\n_c = Chat;\nexport default Chat;\nvar _c;\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"names":["React","useState","useEffect","useRef","io","jsxDEV","_jsxDEV","Chat","user","onLogout","_s","_rooms$find","_rooms$find2","_rooms$find3","socket","setSocket","messages","setMessages","newMessage","setNewMessage","onlineUsers","setOnlineUsers","typingUsers","setTypingUsers","isTyping","setIsTyping","selectedRoom","setSelectedRoom","rooms","id","name","unread","lastMessage","showUserProfile","setShowUserProfile","showSettings","setShowSettings","messagesEndRef","typingTimeoutRef","newSocket","process","env","REACT_APP_SERVER_URL","transports","emit","room","on","message","text","prev","users","Array","isArray","typingUser","filtered","filter","u","setTimeout","error","console","disconnect","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","sendMessage","e","preventDefault","trim","connected","Date","now","timestamp","toISOString","handleTyping","target","value","clearTimeout","formatTime","toLocaleTimeString","hour","minute","getStatusColor","status","className","children","src","avatar","alt","fileName","_jsxFileName","lineNumber","columnNumber","onClick","title","width","height","viewBox","fill","d","map","length","onlineUser","style","backgroundColor","find","r","index","encodeURIComponent","onError","join","ref","onSubmit","type","onChange","placeholder","disabled","_c","$RefreshReg$"],"sources":["C:/Users/SANAL/chat-app/frontend/src/components/chat.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport io from 'socket.io-client';\r\nimport './Chat.css';\r\n\r\nconst Chat = ({ user, onLogout }) => {\r\n  const [socket, setSocket] = useState(null);\r\n  const [messages, setMessages] = useState([]);\r\n  const [newMessage, setNewMessage] = useState('');\r\n  const [onlineUsers, setOnlineUsers] = useState([]);\r\n  const [typingUsers, setTypingUsers] = useState([]);\r\n  const [isTyping, setIsTyping] = useState(false);\r\n  const [selectedRoom, setSelectedRoom] = useState('general');\r\n  const [rooms] = useState([\r\n    { id: 'general', name: 'General', unread: 0, lastMessage: 'Welcome to FlashTalk!' },\r\n    { id: 'tech', name: 'Tech Talk', unread: 3, lastMessage: 'Anyone tried the new React 18?' },\r\n    { id: 'random', name: 'Random', unread: 0, lastMessage: 'Good morning everyone!' },\r\n  ]);\r\n  const [showUserProfile, setShowUserProfile] = useState(false);\r\n  const [showSettings, setShowSettings] = useState(false);\r\n  \r\n  const messagesEndRef = useRef(null);\r\n  const typingTimeoutRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const newSocket = io(process.env.REACT_APP_SERVER_URL || 'http://localhost:5000', {\r\n      transports: ['websocket', 'polling']\r\n    });\r\n    setSocket(newSocket);\r\n\r\n    // Join room\r\n    newSocket.emit('join_room', { room: selectedRoom, user });\r\n\r\n    // Event listeners\r\n    newSocket.on('receive_message', (message) => {\r\n      if (message && message.user && message.text) {\r\n        setMessages(prev => [...prev, message]);\r\n      }\r\n    });\r\n\r\n    newSocket.on('users_online', (users) => {\r\n      if (Array.isArray(users)) {\r\n        setOnlineUsers(users);\r\n      }\r\n    });\r\n\r\n    newSocket.on('user_typing', ({ user: typingUser, room }) => {\r\n      if (room === selectedRoom && typingUser && typingUser.id !== user.id) {\r\n        setTypingUsers(prev => {\r\n          const filtered = prev.filter(u => u.id !== typingUser.id);\r\n          return [...filtered, typingUser];\r\n        });\r\n        \r\n        setTimeout(() => {\r\n          setTypingUsers(prev => prev.filter(u => u.id !== typingUser.id));\r\n        }, 3000);\r\n      }\r\n    });\r\n\r\n    newSocket.on('connect_error', (error) => {\r\n      console.error('Socket connection error:', error);\r\n    });\r\n\r\n    return () => {\r\n      newSocket.disconnect();\r\n    };\r\n  }, [selectedRoom, user]);\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [messages]);\r\n\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  };\r\n\r\n  const sendMessage = (e) => {\r\n    e.preventDefault();\r\n    if (newMessage.trim() && socket && socket.connected) {\r\n      const message = {\r\n        id: Date.now(),\r\n        text: newMessage.trim(),\r\n        user: user,\r\n        room: selectedRoom,\r\n        timestamp: new Date().toISOString(),\r\n      };\r\n      \r\n      socket.emit('send_message', message);\r\n      setNewMessage('');\r\n      setIsTyping(false);\r\n    }\r\n  };\r\n\r\n  const handleTyping = (e) => {\r\n    setNewMessage(e.target.value);\r\n    \r\n    if (!isTyping && socket && socket.connected && e.target.value.trim()) {\r\n      setIsTyping(true);\r\n      socket.emit('user_typing', { user, room: selectedRoom });\r\n    }\r\n\r\n    clearTimeout(typingTimeoutRef.current);\r\n    typingTimeoutRef.current = setTimeout(() => {\r\n      setIsTyping(false);\r\n    }, 1000);\r\n  };\r\n\r\n  const formatTime = (timestamp) => {\r\n    return new Date(timestamp).toLocaleTimeString([], { \r\n      hour: '2-digit', \r\n      minute: '2-digit' \r\n    });\r\n  };\r\n\r\n  const getStatusColor = (status) => {\r\n    switch (status) {\r\n      case 'online': return '#10B981';\r\n      case 'away': return '#F59E0B';\r\n      case 'busy': return '#EF4444';\r\n      default: return '#6B7280';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"chat-container\">\r\n      {/* Sidebar */}\r\n      <div className=\"sidebar\">\r\n        {/* User Profile Section */}\r\n        <div className=\"user-profile-section\">\r\n          <div className=\"user-avatar-container\">\r\n            <div className=\"user-avatar\">\r\n              <img \r\n                src={user.avatar || `https://ui-avatars.com/api/?name=${user.name}&background=667eea&color=fff`} \r\n                alt={user.name}\r\n              />\r\n              <div className=\"status-indicator online\"></div>\r\n            </div>\r\n            <div className=\"user-info\">\r\n              <h3>{user.name}</h3>\r\n              <span className=\"user-status\">Online</span>\r\n            </div>\r\n          </div>\r\n          <div className=\"user-actions\">\r\n            <button \r\n              className=\"action-btn\"\r\n              onClick={() => setShowUserProfile(!showUserProfile)}\r\n              title=\"Profile\"\r\n            >\r\n              <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                <path d=\"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\"/>\r\n              </svg>\r\n            </button>\r\n            <button \r\n              className=\"action-btn\"\r\n              onClick={() => setShowSettings(!showSettings)}\r\n              title=\"Settings\"\r\n            >\r\n              <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                <path d=\"M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.82,11.69,4.82,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z\"/>\r\n              </svg>\r\n            </button>\r\n            <button \r\n              className=\"action-btn logout-btn\"\r\n              onClick={onLogout}\r\n              title=\"Logout\"\r\n            >\r\n              <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                <path d=\"M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.59L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z\"/>\r\n              </svg>\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Rooms Section */}\r\n        <div className=\"rooms-section\">\r\n          <div className=\"section-header\">\r\n            <h4>Channels</h4>\r\n            <button className=\"add-btn\" title=\"Add Channel\">\r\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                <path d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"/>\r\n              </svg>\r\n            </button>\r\n          </div>\r\n          <div className=\"rooms-list\">\r\n            {rooms.map(room => (\r\n              <div\r\n                key={room.id}\r\n                className={`room-item ${selectedRoom === room.id ? 'active' : ''}`}\r\n                onClick={() => setSelectedRoom(room.id)}\r\n              >\r\n                <div className=\"room-icon\">\r\n                  <span>#</span>\r\n                </div>\r\n                <div className=\"room-info\">\r\n                  <div className=\"room-name\">{room.name}</div>\r\n                  <div className=\"room-last-message\">{room.lastMessage}</div>\r\n                </div>\r\n                {room.unread > 0 && (\r\n                  <div className=\"unread-badge\">{room.unread}</div>\r\n                )}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Online Users Section */}\r\n        <div className=\"online-users-section\">\r\n          <div className=\"section-header\">\r\n            <h4>Online ({onlineUsers.length})</h4>\r\n          </div>\r\n          <div className=\"users-list\">\r\n            {onlineUsers.map(onlineUser => (\r\n              <div key={onlineUser.id} className=\"user-item\">\r\n                <div className=\"user-avatar-small\">\r\n                  <img \r\n                    src={onlineUser.avatar || `https://ui-avatars.com/api/?name=${onlineUser.name}&background=random&size=32`} \r\n                    alt={onlineUser.name}\r\n                  />\r\n                  <div \r\n                    className=\"status-dot\" \r\n                    style={{ backgroundColor: getStatusColor(onlineUser.status) }}\r\n                  ></div>\r\n                </div>\r\n                <span className=\"user-name\">{onlineUser.name}</span>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main Chat Area */}\r\n      <div className=\"main-chat\">\r\n        {/* Chat Header */}\r\n        <div className=\"chat-header\">\r\n          <div className=\"channel-info\">\r\n            <div className=\"channel-icon\">\r\n              <span>#</span>\r\n            </div>\r\n            <div className=\"channel-details\">\r\n              <h2>{rooms.find(r => r.id === selectedRoom)?.name}</h2>\r\n              <span className=\"member-count\">{onlineUsers.length} members</span>\r\n            </div>\r\n          </div>\r\n          <div className=\"header-actions\">\r\n            <button className=\"header-btn\" title=\"Search\">\r\n              <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                <path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"/>\r\n              </svg>\r\n            </button>\r\n            <button className=\"header-btn\" title=\"Call\">\r\n              <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                <path d=\"M20.01 15.38c-1.23 0-2.42-.2-3.53-.56-.35-.12-.74-.03-1.01.24l-1.57 1.97c-2.83-1.35-5.48-3.9-6.89-6.83l1.95-1.66c.27-.28.35-.67.24-1.02-.37-1.11-.56-2.3-.56-3.53 0-.54-.45-.99-.99-.99H4.19C3.65 3 3 3.24 3 3.99 3 13.28 10.73 21 20.01 21c.71 0 .99-.63.99-1.18v-3.45c0-.54-.45-.99-.99-.99z\"/>\r\n              </svg>\r\n            </button>\r\n            <button className=\"header-btn\" title=\"More\">\r\n              <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                <path d=\"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\"/>\r\n              </svg>\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Messages Area */}\r\n        <div className=\"messages-container\">\r\n          <div className=\"messages-area\">\r\n            {messages.length === 0 ? (\r\n              <div className=\"welcome-message\">\r\n                <div className=\"welcome-icon\">💬</div>\r\n                <h3>Welcome to #{rooms.find(r => r.id === selectedRoom)?.name || 'Chat'}!</h3>\r\n                <p>This is the beginning of your conversation in this channel.</p>\r\n              </div>\r\n            ) : (\r\n              messages.map((message, index) => {\r\n                if (!message || !message.user) return null;\r\n                \r\n                return (\r\n                  <div key={message.id || index} className=\"message\">\r\n                    <div className=\"message-avatar\">\r\n                      <img \r\n                        src={message.user.avatar || `https://ui-avatars.com/api/?name=${encodeURIComponent(message.user.name || 'User')}&background=random&size=40`} \r\n                        alt={message.user.name || 'User'}\r\n                        onError={(e) => {\r\n                          e.target.src = `https://ui-avatars.com/api/?name=${encodeURIComponent(message.user.name || 'User')}&background=667eea&color=fff&size=40`;\r\n                        }}\r\n                      />\r\n                    </div>\r\n                    <div className=\"message-content\">\r\n                      <div className=\"message-header\">\r\n                        <span className=\"message-author\">{message.user.name || 'Anonymous'}</span>\r\n                        <span className=\"message-time\">{formatTime(message.timestamp)}</span>\r\n                      </div>\r\n                      <div className=\"message-text\">{message.text}</div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })\r\n            )}\r\n            \r\n            {/* Typing Indicators */}\r\n            {typingUsers.length > 0 && (\r\n              <div className=\"typing-indicator\">\r\n                <div className=\"typing-avatar\">\r\n                  <div className=\"typing-dots\">\r\n                    <span></span>\r\n                    <span></span>\r\n                    <span></span>\r\n                  </div>\r\n                </div>\r\n                <span className=\"typing-text\">\r\n                  {typingUsers.map(u => u.name).join(', ')} {typingUsers.length === 1 ? 'is' : 'are'} typing...\r\n                </span>\r\n              </div>\r\n            )}\r\n            <div ref={messagesEndRef} />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Message Input */}\r\n        <div className=\"message-input-container\">\r\n          <form onSubmit={sendMessage} className=\"message-form\">\r\n            <div className=\"input-wrapper\">\r\n              <button type=\"button\" className=\"attachment-btn\" title=\"Attach File\">\r\n                <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                  <path d=\"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z\"/>\r\n                </svg>\r\n              </button>\r\n              <input\r\n                type=\"text\"\r\n                value={newMessage}\r\n                onChange={handleTyping}\r\n                placeholder={`Message #${rooms.find(r => r.id === selectedRoom)?.name}`}\r\n                className=\"message-input\"\r\n              />\r\n              <button type=\"button\" className=\"emoji-btn\" title=\"Add Emoji\">\r\n                <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                  <path d=\"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z\"/>\r\n                </svg>\r\n              </button>\r\n              <button type=\"submit\" className=\"send-btn\" disabled={!newMessage.trim()}>\r\n                <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                  <path d=\"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z\"/>\r\n                </svg>\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Chat;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}